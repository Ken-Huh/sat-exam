{"ast":null,"code":"import React from'react';import katex from'katex';import'katex/dist/katex.min.css';import'./QuestionDisplay.css';// Helper function to render LaTeX math expressions\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function renderMath(latex){let displayMode=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{return katex.renderToString(latex,{throwOnError:false,displayMode:displayMode});}catch(e){return latex;}}// Parse and render text with special formatting\nfunction formatText(text){if(!text)return'';let processedText=text;// Check for underlined text (marked with __text__)\nprocessedText=processedText.replace(/__([^_]+)__/g,'<u>$1</u>');// Check for bold text (marked with **text**)\nprocessedText=processedText.replace(/\\*\\*([^*]+)\\*\\*/g,'<strong>$1</strong>');// Check for italic text (marked with *text*)\nprocessedText=processedText.replace(/(?<!\\*)\\*([^*]+)\\*(?!\\*)/g,'<em>$1</em>');// Render inline math expressions (marked with $...$)\nprocessedText=processedText.replace(/\\$([^$]+)\\$/g,(match,latex)=>{return renderMath(latex,false);});return processedText;}// Component to render passage with rich formatting\nfunction PassageRenderer(_ref){let{passage,image,imageDescription}=_ref;if(!passage&&!image)return null;// Check if passage has \"Text 1\" and \"Text 2\" pattern (cross-text)\nconst crossTextMatch=passage===null||passage===void 0?void 0:passage.match(/^(Text 1[\\s\\S]*?)(Text 2[\\s\\S]*)$/);if(crossTextMatch){return/*#__PURE__*/_jsxs(\"div\",{className:\"passage cross-text-passage\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-label\",children:\"Text 1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-content\",children:/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(crossTextMatch[1].replace(/^Text 1\\s*/,'').trim())}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-label\",children:\"Text 2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-content\",children:/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(crossTextMatch[2].replace(/^Text 2\\s*/,'').trim())}})})]})]});}// Check if passage starts with \"The following text is from...\" pattern\nconst sourceMatch=passage===null||passage===void 0?void 0:passage.match(/^(The following text is from [^.]+\\.)\\s*([\\s\\S]*)$/i);if(sourceMatch){return/*#__PURE__*/_jsxs(\"div\",{className:\"passage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"passage-source\",children:sourceMatch[1]}),/*#__PURE__*/_jsx(\"div\",{className:\"passage-content\",children:/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(sourceMatch[2])}})}),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:imageDescription||'Question figure',className:\"question-image\"})]});}// Check if passage starts with \"While researching a topic...\" (notes pattern)\nconst notesMatch=passage===null||passage===void 0?void 0:passage.match(/^(While researching a topic, a student has taken the following notes:)\\s*([\\s\\S]*)$/i);if(notesMatch){const notes=notesMatch[2].split(/(?=\\n•|\\n\\*)/).filter(n=>n.trim());return/*#__PURE__*/_jsxs(\"div\",{className:\"passage notes-passage\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"notes-header\",children:notesMatch[1]}),/*#__PURE__*/_jsx(\"ul\",{className:\"notes-list\",children:notes.map((note,idx)=>/*#__PURE__*/_jsx(\"li\",{dangerouslySetInnerHTML:{__html:formatText(note.replace(/^[•*]\\s*/,'').trim())}},idx))}),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:imageDescription||'Question figure',className:\"question-image\"})]});}// Check for table pattern (markdown-style tables with |)\nif(passage!==null&&passage!==void 0&&passage.includes('|')&&(passage!==null&&passage!==void 0&&passage.includes('---')||(passage===null||passage===void 0?void 0:passage.split('|').length)>3)){return/*#__PURE__*/_jsxs(\"div\",{className:\"passage\",children:[/*#__PURE__*/_jsx(TableRenderer,{text:passage}),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:imageDescription||'Question figure',className:\"question-image\"})]});}// Default passage rendering with paragraph preservation\nconst paragraphs=(passage===null||passage===void 0?void 0:passage.split(/\\n\\n+/))||[];return/*#__PURE__*/_jsxs(\"div\",{className:\"passage\",children:[paragraphs.map((para,idx)=>/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(para.trim())}},idx)),image&&/*#__PURE__*/_jsx(\"img\",{src:image,alt:imageDescription||'Question figure',className:\"question-image\"})]});}// Render markdown-style tables\nfunction TableRenderer(_ref2){var _tableLines$;let{text}=_ref2;const lines=text.trim().split('\\n');// Find table lines (containing |)\nlet tableStartIdx=-1;let tableEndIdx=-1;let separatorIdx=-1;for(let i=0;i<lines.length;i++){if(lines[i].includes('|')){if(tableStartIdx===-1)tableStartIdx=i;tableEndIdx=i;if(lines[i].includes('---'))separatorIdx=i;}}if(tableStartIdx===-1){return/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(text)}});}// Get text before table\nconst beforeTable=lines.slice(0,tableStartIdx).join('\\n').trim();// Get table lines\nconst tableLines=lines.slice(tableStartIdx,tableEndIdx+1).filter(line=>!line.includes('---'));// Get text after table\nconst afterTable=lines.slice(tableEndIdx+1).join('\\n').trim();// Parse header (first table line)\nconst headerCells=((_tableLines$=tableLines[0])===null||_tableLines$===void 0?void 0:_tableLines$.split('|').map(cell=>cell.trim()).filter(cell=>cell))||[];// Parse data rows\nconst dataRows=tableLines.slice(1).map(line=>line.split('|').map(cell=>cell.trim()).filter(cell=>cell));return/*#__PURE__*/_jsxs(_Fragment,{children:[beforeTable&&/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(beforeTable)}}),/*#__PURE__*/_jsxs(\"table\",{className:\"data-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:headerCells.map((cell,idx)=>/*#__PURE__*/_jsx(\"th\",{dangerouslySetInnerHTML:{__html:formatText(cell)}},idx))})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows.map((row,rowIdx)=>/*#__PURE__*/_jsx(\"tr\",{children:row.map((cell,cellIdx)=>/*#__PURE__*/_jsx(\"td\",{dangerouslySetInnerHTML:{__html:formatText(cell)}},cellIdx))},rowIdx))})]}),afterTable&&/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:formatText(afterTable)}})]});}// Render question text with equation formatting\nfunction QuestionTextRenderer(_ref3){let{text}=_ref3;if(!text)return null;// Check for system of equations (multiple lines with equations)\nconst lines=text.split('\\n');const hasMultipleLines=lines.length>1;if(hasMultipleLines){// Check if first lines look like equations\nconst equationLines=[];let questionStart=0;for(let i=0;i<lines.length;i++){const line=lines[i].trim();if(line&&(line.includes('=')||line.includes('≤')||line.includes('≥'))&&line.length<60&&!line.includes('?')){equationLines.push(line);questionStart=i+1;}else if(equationLines.length>0||line.length>60||line.includes('?')){break;}}if(equationLines.length>0){const questionText=lines.slice(questionStart).join(' ').trim();return/*#__PURE__*/_jsxs(\"div\",{className:\"question-with-equations\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"equation-block\",children:equationLines.map((eq,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"equation-line\",children:/*#__PURE__*/_jsx(\"em\",{dangerouslySetInnerHTML:{__html:formatText(eq)}})},idx))}),/*#__PURE__*/_jsx(\"div\",{className:\"question-text\",dangerouslySetInnerHTML:{__html:formatText(questionText)}})]});}}// Default rendering\nreturn/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:formatText(text)}});}export default function QuestionDisplay(_ref4){let{question,answer,onAnswer,questionNumber,totalQuestions}=_ref4;const handleMultipleChoice=letter=>{onAnswer(question.id,letter);};const handleFillIn=e=>{onAnswer(question.id,e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"question-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"question-number\",children:questionNumber}),/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(QuestionTextRenderer,{text:question.text})})]}),/*#__PURE__*/_jsx(PassageRenderer,{passage:question.passage,image:question.image,imageDescription:question.imageDescription}),question.image&&!question.passage&&/*#__PURE__*/_jsx(\"div\",{className:\"question-figure\",children:/*#__PURE__*/_jsx(\"img\",{src:question.image,alt:question.imageDescription||'Question figure',className:\"question-image standalone\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"answer-section\",children:question.type==='multipleChoice'?/*#__PURE__*/_jsx(\"div\",{className:\"multiple-choice\",children:question.options.map(option=>/*#__PURE__*/_jsxs(\"button\",{className:\"choice-button \".concat(answer===option.letter?'selected':''),onClick:()=>handleMultipleChoice(option.letter),children:[/*#__PURE__*/_jsx(\"span\",{className:\"choice-letter\",children:option.letter}),/*#__PURE__*/_jsx(\"span\",{className:\"choice-text\",dangerouslySetInnerHTML:{__html:formatText(option.text)}})]},option.letter))}):/*#__PURE__*/_jsx(\"div\",{className:\"fill-in\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"fill-in-input\",value:answer||'',onChange:handleFillIn,placeholder:\"Enter your answer\",autoFocus:true})})})]});}","map":{"version":3,"names":["React","katex","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","renderMath","latex","displayMode","arguments","length","undefined","renderToString","throwOnError","e","formatText","text","processedText","replace","match","PassageRenderer","_ref","passage","image","imageDescription","crossTextMatch","className","children","dangerouslySetInnerHTML","__html","trim","sourceMatch","src","alt","notesMatch","notes","split","filter","n","map","note","idx","includes","TableRenderer","paragraphs","para","_ref2","_tableLines$","lines","tableStartIdx","tableEndIdx","separatorIdx","i","beforeTable","slice","join","tableLines","line","afterTable","headerCells","cell","dataRows","row","rowIdx","cellIdx","QuestionTextRenderer","_ref3","hasMultipleLines","equationLines","questionStart","push","questionText","eq","QuestionDisplay","_ref4","question","answer","onAnswer","questionNumber","totalQuestions","handleMultipleChoice","letter","id","handleFillIn","target","value","type","options","option","concat","onClick","onChange","placeholder","autoFocus"],"sources":["/sessions/inspiring-great-wright/mnt/sat-mock-exam/src/components/QuestionDisplay.js"],"sourcesContent":["import React from 'react';\nimport katex from 'katex';\nimport 'katex/dist/katex.min.css';\nimport './QuestionDisplay.css';\n\n// Helper function to render LaTeX math expressions\nfunction renderMath(latex, displayMode = false) {\n  try {\n    return katex.renderToString(latex, {\n      throwOnError: false,\n      displayMode: displayMode\n    });\n  } catch (e) {\n    return latex;\n  }\n}\n\n// Parse and render text with special formatting\nfunction formatText(text) {\n  if (!text) return '';\n\n  let processedText = text;\n\n  // Check for underlined text (marked with __text__)\n  processedText = processedText.replace(/__([^_]+)__/g, '<u>$1</u>');\n\n  // Check for bold text (marked with **text**)\n  processedText = processedText.replace(/\\*\\*([^*]+)\\*\\*/g, '<strong>$1</strong>');\n\n  // Check for italic text (marked with *text*)\n  processedText = processedText.replace(/(?<!\\*)\\*([^*]+)\\*(?!\\*)/g, '<em>$1</em>');\n\n  // Render inline math expressions (marked with $...$)\n  processedText = processedText.replace(/\\$([^$]+)\\$/g, (match, latex) => {\n    return renderMath(latex, false);\n  });\n\n  return processedText;\n}\n\n// Component to render passage with rich formatting\nfunction PassageRenderer({ passage, image, imageDescription }) {\n  if (!passage && !image) return null;\n\n  // Check if passage has \"Text 1\" and \"Text 2\" pattern (cross-text)\n  const crossTextMatch = passage?.match(/^(Text 1[\\s\\S]*?)(Text 2[\\s\\S]*)$/);\n  if (crossTextMatch) {\n    return (\n      <div className=\"passage cross-text-passage\">\n        <div className=\"text-section\">\n          <div className=\"text-label\">Text 1</div>\n          <div className=\"text-content\">\n            <p dangerouslySetInnerHTML={{ __html: formatText(crossTextMatch[1].replace(/^Text 1\\s*/, '').trim()) }} />\n          </div>\n        </div>\n        <div className=\"text-section\">\n          <div className=\"text-label\">Text 2</div>\n          <div className=\"text-content\">\n            <p dangerouslySetInnerHTML={{ __html: formatText(crossTextMatch[2].replace(/^Text 2\\s*/, '').trim()) }} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // Check if passage starts with \"The following text is from...\" pattern\n  const sourceMatch = passage?.match(/^(The following text is from [^.]+\\.)\\s*([\\s\\S]*)$/i);\n  if (sourceMatch) {\n    return (\n      <div className=\"passage\">\n        <div className=\"passage-source\">{sourceMatch[1]}</div>\n        <div className=\"passage-content\">\n          <p dangerouslySetInnerHTML={{ __html: formatText(sourceMatch[2]) }} />\n        </div>\n        {image && <img src={image} alt={imageDescription || 'Question figure'} className=\"question-image\" />}\n      </div>\n    );\n  }\n\n  // Check if passage starts with \"While researching a topic...\" (notes pattern)\n  const notesMatch = passage?.match(/^(While researching a topic, a student has taken the following notes:)\\s*([\\s\\S]*)$/i);\n  if (notesMatch) {\n    const notes = notesMatch[2].split(/(?=\\n•|\\n\\*)/).filter(n => n.trim());\n    return (\n      <div className=\"passage notes-passage\">\n        <div className=\"notes-header\">{notesMatch[1]}</div>\n        <ul className=\"notes-list\">\n          {notes.map((note, idx) => (\n            <li key={idx} dangerouslySetInnerHTML={{ __html: formatText(note.replace(/^[•*]\\s*/, '').trim()) }} />\n          ))}\n        </ul>\n        {image && <img src={image} alt={imageDescription || 'Question figure'} className=\"question-image\" />}\n      </div>\n    );\n  }\n\n  // Check for table pattern (markdown-style tables with |)\n  if (passage?.includes('|') && (passage?.includes('---') || passage?.split('|').length > 3)) {\n    return (\n      <div className=\"passage\">\n        <TableRenderer text={passage} />\n        {image && <img src={image} alt={imageDescription || 'Question figure'} className=\"question-image\" />}\n      </div>\n    );\n  }\n\n  // Default passage rendering with paragraph preservation\n  const paragraphs = passage?.split(/\\n\\n+/) || [];\n\n  return (\n    <div className=\"passage\">\n      {paragraphs.map((para, idx) => (\n        <p key={idx} dangerouslySetInnerHTML={{ __html: formatText(para.trim()) }} />\n      ))}\n      {image && <img src={image} alt={imageDescription || 'Question figure'} className=\"question-image\" />}\n    </div>\n  );\n}\n\n// Render markdown-style tables\nfunction TableRenderer({ text }) {\n  const lines = text.trim().split('\\n');\n\n  // Find table lines (containing |)\n  let tableStartIdx = -1;\n  let tableEndIdx = -1;\n  let separatorIdx = -1;\n\n  for (let i = 0; i < lines.length; i++) {\n    if (lines[i].includes('|')) {\n      if (tableStartIdx === -1) tableStartIdx = i;\n      tableEndIdx = i;\n      if (lines[i].includes('---')) separatorIdx = i;\n    }\n  }\n\n  if (tableStartIdx === -1) {\n    return <p dangerouslySetInnerHTML={{ __html: formatText(text) }} />;\n  }\n\n  // Get text before table\n  const beforeTable = lines.slice(0, tableStartIdx).join('\\n').trim();\n\n  // Get table lines\n  const tableLines = lines.slice(tableStartIdx, tableEndIdx + 1).filter(line => !line.includes('---'));\n\n  // Get text after table\n  const afterTable = lines.slice(tableEndIdx + 1).join('\\n').trim();\n\n  // Parse header (first table line)\n  const headerCells = tableLines[0]?.split('|').map(cell => cell.trim()).filter(cell => cell) || [];\n\n  // Parse data rows\n  const dataRows = tableLines.slice(1).map(line =>\n    line.split('|').map(cell => cell.trim()).filter(cell => cell)\n  );\n\n  return (\n    <>\n      {beforeTable && <p dangerouslySetInnerHTML={{ __html: formatText(beforeTable) }} />}\n      <table className=\"data-table\">\n        <thead>\n          <tr>\n            {headerCells.map((cell, idx) => (\n              <th key={idx} dangerouslySetInnerHTML={{ __html: formatText(cell) }} />\n            ))}\n          </tr>\n        </thead>\n        <tbody>\n          {dataRows.map((row, rowIdx) => (\n            <tr key={rowIdx}>\n              {row.map((cell, cellIdx) => (\n                <td key={cellIdx} dangerouslySetInnerHTML={{ __html: formatText(cell) }} />\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n      {afterTable && <p dangerouslySetInnerHTML={{ __html: formatText(afterTable) }} />}\n    </>\n  );\n}\n\n// Render question text with equation formatting\nfunction QuestionTextRenderer({ text }) {\n  if (!text) return null;\n\n  // Check for system of equations (multiple lines with equations)\n  const lines = text.split('\\n');\n  const hasMultipleLines = lines.length > 1;\n\n  if (hasMultipleLines) {\n    // Check if first lines look like equations\n    const equationLines = [];\n    let questionStart = 0;\n\n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      if (line && (line.includes('=') || line.includes('≤') || line.includes('≥')) && line.length < 60 && !line.includes('?')) {\n        equationLines.push(line);\n        questionStart = i + 1;\n      } else if (equationLines.length > 0 || line.length > 60 || line.includes('?')) {\n        break;\n      }\n    }\n\n    if (equationLines.length > 0) {\n      const questionText = lines.slice(questionStart).join(' ').trim();\n      return (\n        <div className=\"question-with-equations\">\n          <div className=\"equation-block\">\n            {equationLines.map((eq, idx) => (\n              <div key={idx} className=\"equation-line\">\n                <em dangerouslySetInnerHTML={{ __html: formatText(eq) }} />\n              </div>\n            ))}\n          </div>\n          <div className=\"question-text\" dangerouslySetInnerHTML={{ __html: formatText(questionText) }} />\n        </div>\n      );\n    }\n  }\n\n  // Default rendering\n  return <span dangerouslySetInnerHTML={{ __html: formatText(text) }} />;\n}\n\nexport default function QuestionDisplay({\n  question,\n  answer,\n  onAnswer,\n  questionNumber,\n  totalQuestions\n}) {\n  const handleMultipleChoice = (letter) => {\n    onAnswer(question.id, letter);\n  };\n\n  const handleFillIn = (e) => {\n    onAnswer(question.id, e.target.value);\n  };\n\n  return (\n    <div className=\"question-display\">\n      <div className=\"question-header\">\n        <span className=\"question-number\">{questionNumber}</span>\n        <h2><QuestionTextRenderer text={question.text} /></h2>\n      </div>\n\n      {/* Render passage with image if exists */}\n      <PassageRenderer\n        passage={question.passage}\n        image={question.image}\n        imageDescription={question.imageDescription}\n      />\n\n      {/* Render standalone image (no passage) */}\n      {question.image && !question.passage && (\n        <div className=\"question-figure\">\n          <img\n            src={question.image}\n            alt={question.imageDescription || 'Question figure'}\n            className=\"question-image standalone\"\n          />\n        </div>\n      )}\n\n      <div className=\"answer-section\">\n        {question.type === 'multipleChoice' ? (\n          <div className=\"multiple-choice\">\n            {question.options.map(option => (\n              <button\n                key={option.letter}\n                className={`choice-button ${\n                  answer === option.letter ? 'selected' : ''\n                }`}\n                onClick={() => handleMultipleChoice(option.letter)}\n              >\n                <span className=\"choice-letter\">{option.letter}</span>\n                <span className=\"choice-text\" dangerouslySetInnerHTML={{ __html: formatText(option.text) }} />\n              </button>\n            ))}\n          </div>\n        ) : (\n          <div className=\"fill-in\">\n            <input\n              type=\"text\"\n              className=\"fill-in-input\"\n              value={answer || ''}\n              onChange={handleFillIn}\n              placeholder=\"Enter your answer\"\n              autoFocus\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}