{"ast":null,"code":"// Results Export Utilities\n// Handles Google Sheets logging, PDF download, and email sharing\n// ============================================\n// GOOGLE SHEETS INTEGRATION\n// ============================================\n// Replace this with your Google Apps Script Web App URL after setup\nconst GOOGLE_SHEETS_URL='YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';/**\n * Submit results to Google Sheets\n * @param {Object} data - Student results data\n */export async function submitToGoogleSheets(data){// Don't submit if URL not configured\nif(GOOGLE_SHEETS_URL==='YOUR_GOOGLE_APPS_SCRIPT_URL_HERE'){console.log('Google Sheets URL not configured. Skipping submission.');console.log('Results data:',data);return{success:false,reason:'not_configured'};}try{const response=await fetch(GOOGLE_SHEETS_URL,{method:'POST',mode:'no-cors',// Required for Google Apps Script\nheaders:{'Content-Type':'application/json'},body:JSON.stringify(data)});return{success:true};}catch(error){console.error('Failed to submit to Google Sheets:',error);return{success:false,error:error.message};}}/**\n * Format results data for Google Sheets submission\n */export function formatResultsForSheet(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const timestamp=new Date().toISOString();const isFullTest=!practiceType;// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;// 54 RW + 44 Math\n}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}// Get wrong answers details\nconst wrongAnswers=getWrongAnswersDetails(answers,questions,practiceType);return{timestamp,studentName:studentInfo.name||'Anonymous',studentEmail:studentInfo.email||'',testType:isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'R/W':'Math',\" Practice\"),// Scores\nrwModule1:scores.rw1||0,rwModule2:scores.rw2||0,mathModule1:scores.math1||0,mathModule2:scores.math2||0,totalCorrect,totalQuestions,percentage:Math.round(totalCorrect/totalQuestions*100),// Wrong answers summary\nwrongAnswersCount:wrongAnswers.length,wrongAnswersDetails:JSON.stringify(wrongAnswers)};}/**\n * Get detailed information about wrong answers\n */export function getWrongAnswersDetails(answers,questions){let practiceType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const wrongAnswers=[];// Handle practice mode (flat array) vs full test (nested object)\nlet allQuestions=[];if(practiceType){// Practice mode - questions is a flat array\nallQuestions=questions;}else{// Full test - questions has readingWriting and math arrays\nallQuestions=[...(questions.readingWriting||[]),...(questions.math||[])];}allQuestions.forEach(q=>{const userAnswer=answers[q.id];if(userAnswer&&userAnswer!==q.correctAnswer){var _q$options,_q$options$;wrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section:q.type==='multipleChoice'&&(_q$options=q.options)!==null&&_q$options!==void 0&&(_q$options$=_q$options[0])!==null&&_q$options$!==void 0&&_q$options$.letter?'RW':'Math',userAnswer:userAnswer,correctAnswer:q.correctAnswer});}else if(!userAnswer){// Unanswered questions\nwrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section:q.type==='multipleChoice'?'RW':'Math',userAnswer:'(unanswered)',correctAnswer:q.correctAnswer});}});return wrongAnswers;}// ============================================\n// DOWNLOAD AS PDF/TEXT\n// ============================================\n/**\n * Generate and download results as a text file\n */export function downloadResultsAsText(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const isFullTest=!practiceType;const wrongAnswers=getWrongAnswersDetails(answers,questions,practiceType);// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}const percentage=Math.round(totalCorrect/totalQuestions*100);const date=new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});let content=\"\\n\\u2554\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2557\\n\\u2551               SAT PRACTICE TEST RESULTS                     \\u2551\\n\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\\n\\nStudent: \".concat(studentInfo.name||'Anonymous',\"\\nEmail: \").concat(studentInfo.email||'Not provided',\"\\nDate: \").concat(date,\"\\nTest Type: \").concat(isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'Reading & Writing':'Math',\" Practice\"),\"\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                      OVERALL SCORE\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\\n  Total Score: \").concat(totalCorrect,\" / \").concat(totalQuestions,\" (\").concat(percentage,\"%)\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                    MODULE BREAKDOWN\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\");if(isFullTest||practiceType==='readingWriting'){content+=\"\\n  Reading & Writing:\\n    Module 1: \".concat(scores.rw1||0,\" / 27\\n    Module 2: \").concat(scores.rw2||0,\" / 27\\n    Section Total: \").concat((scores.rw1||0)+(scores.rw2||0),\" / 54\\n\");}if(isFullTest||practiceType==='math'){content+=\"\\n  Math:\\n    Module 1: \".concat(scores.math1||0,\" / 22\\n    Module 2: \").concat(scores.math2||0,\" / 22\\n    Section Total: \").concat((scores.math1||0)+(scores.math2||0),\" / 44\\n\");}content+=\"\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                  QUESTIONS TO REVIEW\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\\n\";if(wrongAnswers.length===0){content+='  ðŸŽ‰ Perfect score! No questions to review.\\n';}else{content+=\"  Total questions to review: \".concat(wrongAnswers.length,\"\\n\\n\");// Group by domain\nconst byDomain={};wrongAnswers.forEach(wa=>{const domain=wa.domain||'unknown';if(!byDomain[domain])byDomain[domain]=[];byDomain[domain].push(wa);});Object.entries(byDomain).forEach(_ref=>{let[domain,questions]=_ref;const domainName=domain.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());content+=\"  \".concat(domainName,\":\\n\");questions.forEach(q=>{content+=\"    Q\".concat(q.questionId,\" (Module \").concat(q.module,\"): Your answer: \").concat(q.userAnswer,\" | Correct: \").concat(q.correctAnswer,\"\\n\");});content+='\\n';});}content+=\"\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                    STUDY TIPS\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\\n\";// Add domain-specific tips based on wrong answers\nconst domainCounts={};wrongAnswers.forEach(wa=>{domainCounts[wa.domain]=(domainCounts[wa.domain]||0)+1;});const weakestDomains=Object.entries(domainCounts).sort((a,b)=>b[1]-a[1]).slice(0,3);if(weakestDomains.length>0){content+='  Focus areas (most missed questions):\\n';weakestDomains.forEach((_ref2,idx)=>{let[domain,count]=_ref2;const domainName=domain.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());content+=\"    \".concat(idx+1,\". \").concat(domainName,\" (\").concat(count,\" questions)\\n\");});}else{content+='  Great job! Keep practicing to maintain your skills.\\n';}content+=\"\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\nGenerated by SAT Practice App\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\";// Create and download file\nconst blob=new Blob([content],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"SAT_Results_\".concat(studentInfo.name||'Anonymous',\"_\").concat(new Date().toISOString().split('T')[0],\".txt\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}// ============================================\n// EMAIL RESULTS\n// ============================================\n/**\n * Open email client with pre-filled results\n */export function emailResults(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const isFullTest=!practiceType;const wrongAnswers=getWrongAnswersDetails(answers,questions,practiceType);// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}const percentage=Math.round(totalCorrect/totalQuestions*100);const testType=isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'R/W':'Math',\" Practice\");const subject=encodeURIComponent(\"SAT Practice Results - \".concat(percentage,\"% (\").concat(testType,\")\"));let body=\"SAT Practice Test Results\\n========================\\n\\nStudent: \".concat(studentInfo.name||'Anonymous',\"\\nDate: \").concat(new Date().toLocaleDateString(),\"\\nTest Type: \").concat(testType,\"\\n\\nOVERALL SCORE: \").concat(totalCorrect,\"/\").concat(totalQuestions,\" (\").concat(percentage,\"%)\\n\\nMODULE BREAKDOWN:\\n\");if(isFullTest||practiceType==='readingWriting'){body+=\"- R/W Module 1: \".concat(scores.rw1||0,\"/27\\n- R/W Module 2: \").concat(scores.rw2||0,\"/27\\n\");}if(isFullTest||practiceType==='math'){body+=\"- Math Module 1: \".concat(scores.math1||0,\"/22\\n- Math Module 2: \").concat(scores.math2||0,\"/22\\n\");}body+=\"\\nQUESTIONS TO REVIEW: \".concat(wrongAnswers.length,\"\\n\");// Add first 10 wrong answers to email (keep it short)\nif(wrongAnswers.length>0){body+='\\nMissed Questions (first 10):\\n';wrongAnswers.slice(0,10).forEach(wa=>{body+=\"- Q\".concat(wa.questionId,\": Your answer: \").concat(wa.userAnswer,\", Correct: \").concat(wa.correctAnswer,\"\\n\");});if(wrongAnswers.length>10){body+=\"... and \".concat(wrongAnswers.length-10,\" more\\n\");}}body+='\\n--\\nGenerated by SAT Practice App';const encodedBody=encodeURIComponent(body);const mailtoLink=\"mailto:\".concat(studentInfo.email||'',\"?subject=\").concat(subject,\"&body=\").concat(encodedBody);window.location.href=mailtoLink;}","map":{"version":3,"names":["GOOGLE_SHEETS_URL","submitToGoogleSheets","data","console","log","success","reason","response","fetch","method","mode","headers","body","JSON","stringify","error","message","formatResultsForSheet","studentInfo","scores","answers","questions","practiceType","arguments","length","undefined","timestamp","Date","toISOString","isFullTest","totalCorrect","totalQuestions","rw1","rw2","math1","math2","wrongAnswers","getWrongAnswersDetails","studentName","name","studentEmail","email","testType","concat","rwModule1","rwModule2","mathModule1","mathModule2","percentage","Math","round","wrongAnswersCount","wrongAnswersDetails","allQuestions","readingWriting","math","forEach","q","userAnswer","id","correctAnswer","_q$options","_q$options$","push","questionId","module","domain","section","type","options","letter","downloadResultsAsText","date","toLocaleDateString","weekday","year","month","day","hour","minute","content","byDomain","wa","Object","entries","_ref","domainName","replace","l","toUpperCase","domainCounts","weakestDomains","sort","a","b","slice","_ref2","idx","count","blob","Blob","url","URL","createObjectURL","document","createElement","href","download","split","appendChild","click","removeChild","revokeObjectURL","emailResults","subject","encodeURIComponent","encodedBody","mailtoLink","window","location"],"sources":["/sessions/inspiring-great-wright/mnt/sat-mock-exam/src/utils/resultsExport.js"],"sourcesContent":["// Results Export Utilities\n// Handles Google Sheets logging, PDF download, and email sharing\n\n// ============================================\n// GOOGLE SHEETS INTEGRATION\n// ============================================\n\n// Replace this with your Google Apps Script Web App URL after setup\nconst GOOGLE_SHEETS_URL = 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE';\n\n/**\n * Submit results to Google Sheets\n * @param {Object} data - Student results data\n */\nexport async function submitToGoogleSheets(data) {\n  // Don't submit if URL not configured\n  if (GOOGLE_SHEETS_URL === 'YOUR_GOOGLE_APPS_SCRIPT_URL_HERE') {\n    console.log('Google Sheets URL not configured. Skipping submission.');\n    console.log('Results data:', data);\n    return { success: false, reason: 'not_configured' };\n  }\n\n  try {\n    const response = await fetch(GOOGLE_SHEETS_URL, {\n      method: 'POST',\n      mode: 'no-cors', // Required for Google Apps Script\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    return { success: true };\n  } catch (error) {\n    console.error('Failed to submit to Google Sheets:', error);\n    return { success: false, error: error.message };\n  }\n}\n\n/**\n * Format results data for Google Sheets submission\n */\nexport function formatResultsForSheet(studentInfo, scores, answers, questions, practiceType = null) {\n  const timestamp = new Date().toISOString();\n  const isFullTest = !practiceType;\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98; // 54 RW + 44 Math\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  // Get wrong answers details\n  const wrongAnswers = getWrongAnswersDetails(answers, questions, practiceType);\n\n  return {\n    timestamp,\n    studentName: studentInfo.name || 'Anonymous',\n    studentEmail: studentInfo.email || '',\n    testType: isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'R/W' : 'Math'} Practice`,\n\n    // Scores\n    rwModule1: scores.rw1 || 0,\n    rwModule2: scores.rw2 || 0,\n    mathModule1: scores.math1 || 0,\n    mathModule2: scores.math2 || 0,\n    totalCorrect,\n    totalQuestions,\n    percentage: Math.round((totalCorrect / totalQuestions) * 100),\n\n    // Wrong answers summary\n    wrongAnswersCount: wrongAnswers.length,\n    wrongAnswersDetails: JSON.stringify(wrongAnswers),\n  };\n}\n\n/**\n * Get detailed information about wrong answers\n */\nexport function getWrongAnswersDetails(answers, questions, practiceType = null) {\n  const wrongAnswers = [];\n\n  // Handle practice mode (flat array) vs full test (nested object)\n  let allQuestions = [];\n  if (practiceType) {\n    // Practice mode - questions is a flat array\n    allQuestions = questions;\n  } else {\n    // Full test - questions has readingWriting and math arrays\n    allQuestions = [...(questions.readingWriting || []), ...(questions.math || [])];\n  }\n\n  allQuestions.forEach(q => {\n    const userAnswer = answers[q.id];\n    if (userAnswer && userAnswer !== q.correctAnswer) {\n      wrongAnswers.push({\n        questionId: q.id,\n        module: q.module,\n        domain: q.domain || 'unknown',\n        section: q.type === 'multipleChoice' && q.options?.[0]?.letter ? 'RW' : 'Math',\n        userAnswer: userAnswer,\n        correctAnswer: q.correctAnswer,\n      });\n    } else if (!userAnswer) {\n      // Unanswered questions\n      wrongAnswers.push({\n        questionId: q.id,\n        module: q.module,\n        domain: q.domain || 'unknown',\n        section: q.type === 'multipleChoice' ? 'RW' : 'Math',\n        userAnswer: '(unanswered)',\n        correctAnswer: q.correctAnswer,\n      });\n    }\n  });\n\n  return wrongAnswers;\n}\n\n// ============================================\n// DOWNLOAD AS PDF/TEXT\n// ============================================\n\n/**\n * Generate and download results as a text file\n */\nexport function downloadResultsAsText(studentInfo, scores, answers, questions, practiceType = null) {\n  const isFullTest = !practiceType;\n  const wrongAnswers = getWrongAnswersDetails(answers, questions, practiceType);\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98;\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  const percentage = Math.round((totalCorrect / totalQuestions) * 100);\n  const date = new Date().toLocaleDateString('en-US', {\n    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',\n    hour: '2-digit', minute: '2-digit'\n  });\n\n  let content = `\nâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\nâ•‘               SAT PRACTICE TEST RESULTS                     â•‘\nâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\nStudent: ${studentInfo.name || 'Anonymous'}\nEmail: ${studentInfo.email || 'Not provided'}\nDate: ${date}\nTest Type: ${isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'Reading & Writing' : 'Math'} Practice`}\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                      OVERALL SCORE\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n  Total Score: ${totalCorrect} / ${totalQuestions} (${percentage}%)\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                    MODULE BREAKDOWN\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;\n\n  if (isFullTest || practiceType === 'readingWriting') {\n    content += `\n  Reading & Writing:\n    Module 1: ${scores.rw1 || 0} / 27\n    Module 2: ${scores.rw2 || 0} / 27\n    Section Total: ${(scores.rw1 || 0) + (scores.rw2 || 0)} / 54\n`;\n  }\n\n  if (isFullTest || practiceType === 'math') {\n    content += `\n  Math:\n    Module 1: ${scores.math1 || 0} / 22\n    Module 2: ${scores.math2 || 0} / 22\n    Section Total: ${(scores.math1 || 0) + (scores.math2 || 0)} / 44\n`;\n  }\n\n  content += `\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                  QUESTIONS TO REVIEW\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;\n\n  if (wrongAnswers.length === 0) {\n    content += '  ðŸŽ‰ Perfect score! No questions to review.\\n';\n  } else {\n    content += `  Total questions to review: ${wrongAnswers.length}\\n\\n`;\n\n    // Group by domain\n    const byDomain = {};\n    wrongAnswers.forEach(wa => {\n      const domain = wa.domain || 'unknown';\n      if (!byDomain[domain]) byDomain[domain] = [];\n      byDomain[domain].push(wa);\n    });\n\n    Object.entries(byDomain).forEach(([domain, questions]) => {\n      const domainName = domain.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      content += `  ${domainName}:\\n`;\n      questions.forEach(q => {\n        content += `    Q${q.questionId} (Module ${q.module}): Your answer: ${q.userAnswer} | Correct: ${q.correctAnswer}\\n`;\n      });\n      content += '\\n';\n    });\n  }\n\n  content += `\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n                    STUDY TIPS\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n\n`;\n\n  // Add domain-specific tips based on wrong answers\n  const domainCounts = {};\n  wrongAnswers.forEach(wa => {\n    domainCounts[wa.domain] = (domainCounts[wa.domain] || 0) + 1;\n  });\n\n  const weakestDomains = Object.entries(domainCounts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  if (weakestDomains.length > 0) {\n    content += '  Focus areas (most missed questions):\\n';\n    weakestDomains.forEach(([domain, count], idx) => {\n      const domainName = domain.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      content += `    ${idx + 1}. ${domainName} (${count} questions)\\n`;\n    });\n  } else {\n    content += '  Great job! Keep practicing to maintain your skills.\\n';\n  }\n\n  content += `\n\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\nGenerated by SAT Practice App\nâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\n`;\n\n  // Create and download file\n  const blob = new Blob([content], { type: 'text/plain' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `SAT_Results_${studentInfo.name || 'Anonymous'}_${new Date().toISOString().split('T')[0]}.txt`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n}\n\n// ============================================\n// EMAIL RESULTS\n// ============================================\n\n/**\n * Open email client with pre-filled results\n */\nexport function emailResults(studentInfo, scores, answers, questions, practiceType = null) {\n  const isFullTest = !practiceType;\n  const wrongAnswers = getWrongAnswersDetails(answers, questions, practiceType);\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98;\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  const percentage = Math.round((totalCorrect / totalQuestions) * 100);\n  const testType = isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'R/W' : 'Math'} Practice`;\n\n  const subject = encodeURIComponent(`SAT Practice Results - ${percentage}% (${testType})`);\n\n  let body = `SAT Practice Test Results\n========================\n\nStudent: ${studentInfo.name || 'Anonymous'}\nDate: ${new Date().toLocaleDateString()}\nTest Type: ${testType}\n\nOVERALL SCORE: ${totalCorrect}/${totalQuestions} (${percentage}%)\n\nMODULE BREAKDOWN:\n`;\n\n  if (isFullTest || practiceType === 'readingWriting') {\n    body += `- R/W Module 1: ${scores.rw1 || 0}/27\n- R/W Module 2: ${scores.rw2 || 0}/27\n`;\n  }\n\n  if (isFullTest || practiceType === 'math') {\n    body += `- Math Module 1: ${scores.math1 || 0}/22\n- Math Module 2: ${scores.math2 || 0}/22\n`;\n  }\n\n  body += `\nQUESTIONS TO REVIEW: ${wrongAnswers.length}\n`;\n\n  // Add first 10 wrong answers to email (keep it short)\n  if (wrongAnswers.length > 0) {\n    body += '\\nMissed Questions (first 10):\\n';\n    wrongAnswers.slice(0, 10).forEach(wa => {\n      body += `- Q${wa.questionId}: Your answer: ${wa.userAnswer}, Correct: ${wa.correctAnswer}\\n`;\n    });\n    if (wrongAnswers.length > 10) {\n      body += `... and ${wrongAnswers.length - 10} more\\n`;\n    }\n  }\n\n  body += '\\n--\\nGenerated by SAT Practice App';\n\n  const encodedBody = encodeURIComponent(body);\n  const mailtoLink = `mailto:${studentInfo.email || ''}?subject=${subject}&body=${encodedBody}`;\n\n  window.location.href = mailtoLink;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}