{"ast":null,"code":"// Results Export Utilities\n// Handles Google Sheets logging, PDF download, and email sharing\n// ============================================\n// GOOGLE SHEETS INTEGRATION\n// ============================================\n// Your Google Apps Script Web App URL (already configured)\nconst GOOGLE_SHEETS_URL='https://script.google.com/macros/s/AKfycbxN8hD-DXbEETjZxgeE5TTp_rdcs5CD7h6PO724XNXdPWUuysBQRuVt4jC922Sw1bK1/exec';/**\n * Submit results to Google Sheets\n * @param {Object} data - Student results data\n */export async function submitToGoogleSheets(data){// Don't submit if URL not configured\nif(!GOOGLE_SHEETS_URL){console.log('Google Sheets URL not configured. Skipping submission.');console.log('Results data:',data);return{success:false,reason:'not_configured'};}try{await fetch(GOOGLE_SHEETS_URL,{method:'POST',mode:'no-cors',// Required for Google Apps Script\nheaders:{'Content-Type':'application/json'},body:JSON.stringify(data)});return{success:true};}catch(error){console.error('Failed to submit to Google Sheets:',error);return{success:false,error:error.message};}}/**\n * Format results data for Google Sheets submission\n * Sends detailed question-by-question data for individual tabs per student\n */export function formatResultsForSheet(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const timestamp=new Date().toISOString();const isFullTest=!practiceType;// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;// 54 RW + 44 Math\n}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}// Get all question details (not just wrong ones)\nconst allQuestionDetails=getAllQuestionDetails(answers,questions,practiceType);return{timestamp,studentName:studentInfo.name||'Anonymous',studentEmail:studentInfo.email||'',testType:isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'R/W':'Math',\" Practice\"),// Scores\nrwModule1:scores.rw1||0,rwModule2:scores.rw2||0,mathModule1:scores.math1||0,mathModule2:scores.math2||0,totalCorrect,totalQuestions,percentage:Math.round(totalCorrect/totalQuestions*100),// Detailed question data for individual tabs\n// Format: array of {q#, section, module, domain, userAnswer, correctAnswer, isCorrect}\nquestionDetails:allQuestionDetails,// Request for separate tab (flag for Apps Script)\ncreateNewTab:true};}/**\n * Get detailed information about ALL questions (for vertical format in sheets)\n */export function getAllQuestionDetails(answers,questions){let practiceType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const details=[];// Handle practice mode (flat array) vs full test (nested object)\nif(practiceType){// Practice mode - all questions are the same section\nconst section=practiceType==='math'?'Math':'RW';questions.forEach((q,index)=>{const userAnswer=answers[q.id]||'';const isCorrect=userAnswer===q.correctAnswer;details.push({questionNumber:index+1,questionId:q.id,section,module:q.module||1,domain:(q.domain||'unknown').replace(/_/g,' '),userAnswer:userAnswer||'(blank)',correctAnswer:q.correctAnswer,isCorrect:isCorrect?'Correct':'Incorrect'});});}else{// Full test - use the actual arrays to determine section\nconst rwQuestions=questions.readingWriting||[];const mathQuestions=questions.math||[];rwQuestions.forEach((q,index)=>{const userAnswer=answers[q.id]||'';const isCorrect=userAnswer===q.correctAnswer;details.push({questionNumber:index+1,questionId:q.id,section:'RW',module:q.module||1,domain:(q.domain||'unknown').replace(/_/g,' '),userAnswer:userAnswer||'(blank)',correctAnswer:q.correctAnswer,isCorrect:isCorrect?'Correct':'Incorrect'});});mathQuestions.forEach((q,index)=>{const userAnswer=answers[q.id]||'';const isCorrect=userAnswer===q.correctAnswer;details.push({questionNumber:rwQuestions.length+index+1,questionId:q.id,section:'Math',module:q.module||1,domain:(q.domain||'unknown').replace(/_/g,' '),userAnswer:userAnswer||'(blank)',correctAnswer:q.correctAnswer,isCorrect:isCorrect?'Correct':'Incorrect'});});}return details;}/**\n * Get detailed information about wrong answers\n */export function getWrongAnswersDetails(answers,questions){let practiceType=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;const wrongAnswers=[];if(practiceType){const section=practiceType==='math'?'Math':'RW';questions.forEach(q=>{const userAnswer=answers[q.id];if(userAnswer&&userAnswer!==q.correctAnswer){wrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section,userAnswer,correctAnswer:q.correctAnswer});}else if(!userAnswer){wrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section,userAnswer:'(unanswered)',correctAnswer:q.correctAnswer});}});}else{// Full test - iterate each array separately for correct labeling\nconst rwQuestions=questions.readingWriting||[];const mathQuestions=questions.math||[];const processQuestion=(q,section)=>{const userAnswer=answers[q.id];if(userAnswer&&userAnswer!==q.correctAnswer){wrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section,userAnswer,correctAnswer:q.correctAnswer});}else if(!userAnswer){wrongAnswers.push({questionId:q.id,module:q.module,domain:q.domain||'unknown',section,userAnswer:'(unanswered)',correctAnswer:q.correctAnswer});}};rwQuestions.forEach(q=>processQuestion(q,'RW'));mathQuestions.forEach(q=>processQuestion(q,'Math'));}return wrongAnswers;}// ============================================\n// DOWNLOAD AS PDF/TEXT\n// ============================================\n/**\n * Generate and download results as a text file\n */export function downloadResultsAsText(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const isFullTest=!practiceType;const wrongAnswers=getWrongAnswersDetails(answers,questions,practiceType);// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}const percentage=Math.round(totalCorrect/totalQuestions*100);const date=new Date().toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});let content=\"\\n\\u2554\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2557\\n\\u2551               SAT PRACTICE TEST RESULTS                     \\u2551\\n\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\\n\\nStudent: \".concat(studentInfo.name||'Anonymous',\"\\nEmail: \").concat(studentInfo.email||'Not provided',\"\\nDate: \").concat(date,\"\\nTest Type: \").concat(isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'Reading & Writing':'Math',\" Practice\"),\"\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                      OVERALL SCORE\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\\n  Total Score: \").concat(totalCorrect,\" / \").concat(totalQuestions,\" (\").concat(percentage,\"%)\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                    MODULE BREAKDOWN\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\");if(isFullTest||practiceType==='readingWriting'){content+=\"\\n  Reading & Writing:\\n    Module 1: \".concat(scores.rw1||0,\" / 27\\n    Module 2: \").concat(scores.rw2||0,\" / 27\\n    Section Total: \").concat((scores.rw1||0)+(scores.rw2||0),\" / 54\\n\");}if(isFullTest||practiceType==='math'){content+=\"\\n  Math:\\n    Module 1: \".concat(scores.math1||0,\" / 22\\n    Module 2: \").concat(scores.math2||0,\" / 22\\n    Section Total: \").concat((scores.math1||0)+(scores.math2||0),\" / 44\\n\");}content+=\"\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n                    STUDY TIPS\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\\n\";// Add domain-specific tips based on wrong answers\nconst domainCounts={};wrongAnswers.forEach(wa=>{domainCounts[wa.domain]=(domainCounts[wa.domain]||0)+1;});const weakestDomains=Object.entries(domainCounts).sort((a,b)=>b[1]-a[1]).slice(0,3);if(weakestDomains.length>0){content+='  Focus areas (most missed questions):\\n';weakestDomains.forEach((_ref,idx)=>{let[domain,count]=_ref;const domainName=domain.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());content+=\"    \".concat(idx+1,\". \").concat(domainName,\" (\").concat(count,\" questions)\\n\");});}else{content+='  Great job! Keep practicing to maintain your skills.\\n';}content+=\"\\n\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\nGenerated by SAT Practice App\\n\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\n\";// Create and download file\nconst blob=new Blob([content],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"SAT_Results_\".concat(studentInfo.name||'Anonymous',\"_\").concat(new Date().toISOString().split('T')[0],\".txt\");document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(url);}// ============================================\n// EMAIL RESULTS\n// ============================================\n/**\n * Open email client with pre-filled results\n */export function emailResults(studentInfo,scores,answers,questions){let practiceType=arguments.length>4&&arguments[4]!==undefined?arguments[4]:null;const isFullTest=!practiceType;const wrongAnswers=getWrongAnswersDetails(answers,questions,practiceType);// Calculate totals\nlet totalCorrect,totalQuestions;if(isFullTest){totalCorrect=(scores.rw1||0)+(scores.rw2||0)+(scores.math1||0)+(scores.math2||0);totalQuestions=98;}else{totalCorrect=practiceType==='readingWriting'?(scores.rw1||0)+(scores.rw2||0):(scores.math1||0)+(scores.math2||0);totalQuestions=practiceType==='readingWriting'?54:44;}const percentage=Math.round(totalCorrect/totalQuestions*100);const testType=isFullTest?'Full Practice Test':\"\".concat(practiceType==='readingWriting'?'R/W':'Math',\" Practice\");const subject=encodeURIComponent(\"SAT Practice Results - \".concat(percentage,\"% (\").concat(testType,\")\"));let body=\"SAT Practice Test Results\\n========================\\n\\nStudent: \".concat(studentInfo.name||'Anonymous',\"\\nDate: \").concat(new Date().toLocaleDateString(),\"\\nTest Type: \").concat(testType,\"\\n\\nOVERALL SCORE: \").concat(totalCorrect,\"/\").concat(totalQuestions,\" (\").concat(percentage,\"%)\\n\\nMODULE BREAKDOWN:\\n\");if(isFullTest||practiceType==='readingWriting'){body+=\"- R/W Module 1: \".concat(scores.rw1||0,\"/27\\n- R/W Module 2: \").concat(scores.rw2||0,\"/27\\n\");}if(isFullTest||practiceType==='math'){body+=\"- Math Module 1: \".concat(scores.math1||0,\"/22\\n- Math Module 2: \").concat(scores.math2||0,\"/22\\n\");}body+='\\n--\\nGenerated by SAT Practice App';const encodedBody=encodeURIComponent(body);const mailtoLink=\"mailto:\".concat(studentInfo.email||'',\"?subject=\").concat(subject,\"&body=\").concat(encodedBody);window.location.href=mailtoLink;}","map":{"version":3,"names":["GOOGLE_SHEETS_URL","submitToGoogleSheets","data","console","log","success","reason","fetch","method","mode","headers","body","JSON","stringify","error","message","formatResultsForSheet","studentInfo","scores","answers","questions","practiceType","arguments","length","undefined","timestamp","Date","toISOString","isFullTest","totalCorrect","totalQuestions","rw1","rw2","math1","math2","allQuestionDetails","getAllQuestionDetails","studentName","name","studentEmail","email","testType","concat","rwModule1","rwModule2","mathModule1","mathModule2","percentage","Math","round","questionDetails","createNewTab","details","section","forEach","q","index","userAnswer","id","isCorrect","correctAnswer","push","questionNumber","questionId","module","domain","replace","rwQuestions","readingWriting","mathQuestions","math","getWrongAnswersDetails","wrongAnswers","processQuestion","downloadResultsAsText","date","toLocaleDateString","weekday","year","month","day","hour","minute","content","domainCounts","wa","weakestDomains","Object","entries","sort","a","b","slice","_ref","idx","count","domainName","l","toUpperCase","blob","Blob","type","url","URL","createObjectURL","document","createElement","href","download","split","appendChild","click","removeChild","revokeObjectURL","emailResults","subject","encodeURIComponent","encodedBody","mailtoLink","window","location"],"sources":["/sessions/adoring-focused-sagan/mnt/sat-mock-exam/src/utils/resultsExport.js"],"sourcesContent":["// Results Export Utilities\n// Handles Google Sheets logging, PDF download, and email sharing\n\n// ============================================\n// GOOGLE SHEETS INTEGRATION\n// ============================================\n\n// Your Google Apps Script Web App URL (already configured)\nconst GOOGLE_SHEETS_URL = 'https://script.google.com/macros/s/AKfycbxN8hD-DXbEETjZxgeE5TTp_rdcs5CD7h6PO724XNXdPWUuysBQRuVt4jC922Sw1bK1/exec';\n\n/**\n * Submit results to Google Sheets\n * @param {Object} data - Student results data\n */\nexport async function submitToGoogleSheets(data) {\n  // Don't submit if URL not configured\n  if (!GOOGLE_SHEETS_URL) {\n    console.log('Google Sheets URL not configured. Skipping submission.');\n    console.log('Results data:', data);\n    return { success: false, reason: 'not_configured' };\n  }\n\n  try {\n    await fetch(GOOGLE_SHEETS_URL, {\n      method: 'POST',\n      mode: 'no-cors', // Required for Google Apps Script\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    return { success: true };\n  } catch (error) {\n    console.error('Failed to submit to Google Sheets:', error);\n    return { success: false, error: error.message };\n  }\n}\n\n/**\n * Format results data for Google Sheets submission\n * Sends detailed question-by-question data for individual tabs per student\n */\nexport function formatResultsForSheet(studentInfo, scores, answers, questions, practiceType = null) {\n  const timestamp = new Date().toISOString();\n  const isFullTest = !practiceType;\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98; // 54 RW + 44 Math\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  // Get all question details (not just wrong ones)\n  const allQuestionDetails = getAllQuestionDetails(answers, questions, practiceType);\n\n  return {\n    timestamp,\n    studentName: studentInfo.name || 'Anonymous',\n    studentEmail: studentInfo.email || '',\n    testType: isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'R/W' : 'Math'} Practice`,\n\n    // Scores\n    rwModule1: scores.rw1 || 0,\n    rwModule2: scores.rw2 || 0,\n    mathModule1: scores.math1 || 0,\n    mathModule2: scores.math2 || 0,\n    totalCorrect,\n    totalQuestions,\n    percentage: Math.round((totalCorrect / totalQuestions) * 100),\n\n    // Detailed question data for individual tabs\n    // Format: array of {q#, section, module, domain, userAnswer, correctAnswer, isCorrect}\n    questionDetails: allQuestionDetails,\n\n    // Request for separate tab (flag for Apps Script)\n    createNewTab: true,\n  };\n}\n\n/**\n * Get detailed information about ALL questions (for vertical format in sheets)\n */\nexport function getAllQuestionDetails(answers, questions, practiceType = null) {\n  const details = [];\n\n  // Handle practice mode (flat array) vs full test (nested object)\n  if (practiceType) {\n    // Practice mode - all questions are the same section\n    const section = practiceType === 'math' ? 'Math' : 'RW';\n    questions.forEach((q, index) => {\n      const userAnswer = answers[q.id] || '';\n      const isCorrect = userAnswer === q.correctAnswer;\n      details.push({\n        questionNumber: index + 1,\n        questionId: q.id,\n        section,\n        module: q.module || 1,\n        domain: (q.domain || 'unknown').replace(/_/g, ' '),\n        userAnswer: userAnswer || '(blank)',\n        correctAnswer: q.correctAnswer,\n        isCorrect: isCorrect ? 'Correct' : 'Incorrect',\n      });\n    });\n  } else {\n    // Full test - use the actual arrays to determine section\n    const rwQuestions = questions.readingWriting || [];\n    const mathQuestions = questions.math || [];\n\n    rwQuestions.forEach((q, index) => {\n      const userAnswer = answers[q.id] || '';\n      const isCorrect = userAnswer === q.correctAnswer;\n      details.push({\n        questionNumber: index + 1,\n        questionId: q.id,\n        section: 'RW',\n        module: q.module || 1,\n        domain: (q.domain || 'unknown').replace(/_/g, ' '),\n        userAnswer: userAnswer || '(blank)',\n        correctAnswer: q.correctAnswer,\n        isCorrect: isCorrect ? 'Correct' : 'Incorrect',\n      });\n    });\n\n    mathQuestions.forEach((q, index) => {\n      const userAnswer = answers[q.id] || '';\n      const isCorrect = userAnswer === q.correctAnswer;\n      details.push({\n        questionNumber: rwQuestions.length + index + 1,\n        questionId: q.id,\n        section: 'Math',\n        module: q.module || 1,\n        domain: (q.domain || 'unknown').replace(/_/g, ' '),\n        userAnswer: userAnswer || '(blank)',\n        correctAnswer: q.correctAnswer,\n        isCorrect: isCorrect ? 'Correct' : 'Incorrect',\n      });\n    });\n  }\n\n  return details;\n}\n\n/**\n * Get detailed information about wrong answers\n */\nexport function getWrongAnswersDetails(answers, questions, practiceType = null) {\n  const wrongAnswers = [];\n  if (practiceType) {\n    const section = practiceType === 'math' ? 'Math' : 'RW';\n    questions.forEach(q => {\n      const userAnswer = answers[q.id];\n      if (userAnswer && userAnswer !== q.correctAnswer) {\n        wrongAnswers.push({\n          questionId: q.id, module: q.module, domain: q.domain || 'unknown',\n          section, userAnswer, correctAnswer: q.correctAnswer,\n        });\n      } else if (!userAnswer) {\n        wrongAnswers.push({\n          questionId: q.id, module: q.module, domain: q.domain || 'unknown',\n          section, userAnswer: '(unanswered)', correctAnswer: q.correctAnswer,\n        });\n      }\n    });\n  } else {\n    // Full test - iterate each array separately for correct labeling\n    const rwQuestions = questions.readingWriting || [];\n    const mathQuestions = questions.math || [];\n\n    const processQuestion = (q, section) => {\n      const userAnswer = answers[q.id];\n      if (userAnswer && userAnswer !== q.correctAnswer) {\n        wrongAnswers.push({\n          questionId: q.id, module: q.module, domain: q.domain || 'unknown',\n          section, userAnswer, correctAnswer: q.correctAnswer,\n        });\n      } else if (!userAnswer) {\n        wrongAnswers.push({\n          questionId: q.id, module: q.module, domain: q.domain || 'unknown',\n          section, userAnswer: '(unanswered)', correctAnswer: q.correctAnswer,\n        });\n      }\n    };\n\n    rwQuestions.forEach(q => processQuestion(q, 'RW'));\n    mathQuestions.forEach(q => processQuestion(q, 'Math'));\n  }\n\n  return wrongAnswers;\n}\n\n// ============================================\n// DOWNLOAD AS PDF/TEXT\n// ============================================\n\n/**\n * Generate and download results as a text file\n */\nexport function downloadResultsAsText(studentInfo, scores, answers, questions, practiceType = null) {\n  const isFullTest = !practiceType;\n  const wrongAnswers = getWrongAnswersDetails(answers, questions, practiceType);\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98;\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  const percentage = Math.round((totalCorrect / totalQuestions) * 100);\n  const date = new Date().toLocaleDateString('en-US', {\n    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',\n    hour: '2-digit', minute: '2-digit'\n  });\n\n  let content = `\n╔════════════════════════════════════════════════════════════╗\n║               SAT PRACTICE TEST RESULTS                     ║\n╚════════════════════════════════════════════════════════════╝\n\nStudent: ${studentInfo.name || 'Anonymous'}\nEmail: ${studentInfo.email || 'Not provided'}\nDate: ${date}\nTest Type: ${isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'Reading & Writing' : 'Math'} Practice`}\n\n════════════════════════════════════════════════════════════\n                      OVERALL SCORE\n════════════════════════════════════════════════════════════\n\n  Total Score: ${totalCorrect} / ${totalQuestions} (${percentage}%)\n\n════════════════════════════════════════════════════════════\n                    MODULE BREAKDOWN\n════════════════════════════════════════════════════════════\n`;\n\n  if (isFullTest || practiceType === 'readingWriting') {\n    content += `\n  Reading & Writing:\n    Module 1: ${scores.rw1 || 0} / 27\n    Module 2: ${scores.rw2 || 0} / 27\n    Section Total: ${(scores.rw1 || 0) + (scores.rw2 || 0)} / 54\n`;\n  }\n\n  if (isFullTest || practiceType === 'math') {\n    content += `\n  Math:\n    Module 1: ${scores.math1 || 0} / 22\n    Module 2: ${scores.math2 || 0} / 22\n    Section Total: ${(scores.math1 || 0) + (scores.math2 || 0)} / 44\n`;\n  }\n\n  content += `\n════════════════════════════════════════════════════════════\n                    STUDY TIPS\n════════════════════════════════════════════════════════════\n\n`;\n\n  // Add domain-specific tips based on wrong answers\n  const domainCounts = {};\n  wrongAnswers.forEach(wa => {\n    domainCounts[wa.domain] = (domainCounts[wa.domain] || 0) + 1;\n  });\n\n  const weakestDomains = Object.entries(domainCounts)\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 3);\n\n  if (weakestDomains.length > 0) {\n    content += '  Focus areas (most missed questions):\\n';\n    weakestDomains.forEach(([domain, count], idx) => {\n      const domainName = domain.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n      content += `    ${idx + 1}. ${domainName} (${count} questions)\\n`;\n    });\n  } else {\n    content += '  Great job! Keep practicing to maintain your skills.\\n';\n  }\n\n  content += `\n\n════════════════════════════════════════════════════════════\nGenerated by SAT Practice App\n════════════════════════════════════════════════════════════\n`;\n\n  // Create and download file\n  const blob = new Blob([content], { type: 'text/plain' });\n  const url = URL.createObjectURL(blob);\n  const a = document.createElement('a');\n  a.href = url;\n  a.download = `SAT_Results_${studentInfo.name || 'Anonymous'}_${new Date().toISOString().split('T')[0]}.txt`;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  URL.revokeObjectURL(url);\n}\n\n// ============================================\n// EMAIL RESULTS\n// ============================================\n\n/**\n * Open email client with pre-filled results\n */\nexport function emailResults(studentInfo, scores, answers, questions, practiceType = null) {\n  const isFullTest = !practiceType;\n  const wrongAnswers = getWrongAnswersDetails(answers, questions, practiceType);\n\n  // Calculate totals\n  let totalCorrect, totalQuestions;\n  if (isFullTest) {\n    totalCorrect = (scores.rw1 || 0) + (scores.rw2 || 0) + (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = 98;\n  } else {\n    totalCorrect = practiceType === 'readingWriting'\n      ? (scores.rw1 || 0) + (scores.rw2 || 0)\n      : (scores.math1 || 0) + (scores.math2 || 0);\n    totalQuestions = practiceType === 'readingWriting' ? 54 : 44;\n  }\n\n  const percentage = Math.round((totalCorrect / totalQuestions) * 100);\n  const testType = isFullTest ? 'Full Practice Test' : `${practiceType === 'readingWriting' ? 'R/W' : 'Math'} Practice`;\n\n  const subject = encodeURIComponent(`SAT Practice Results - ${percentage}% (${testType})`);\n\n  let body = `SAT Practice Test Results\n========================\n\nStudent: ${studentInfo.name || 'Anonymous'}\nDate: ${new Date().toLocaleDateString()}\nTest Type: ${testType}\n\nOVERALL SCORE: ${totalCorrect}/${totalQuestions} (${percentage}%)\n\nMODULE BREAKDOWN:\n`;\n\n  if (isFullTest || practiceType === 'readingWriting') {\n    body += `- R/W Module 1: ${scores.rw1 || 0}/27\n- R/W Module 2: ${scores.rw2 || 0}/27\n`;\n  }\n\n  if (isFullTest || practiceType === 'math') {\n    body += `- Math Module 1: ${scores.math1 || 0}/22\n- Math Module 2: ${scores.math2 || 0}/22\n`;\n  }\n\n  body += '\\n--\\nGenerated by SAT Practice App';\n\n  const encodedBody = encodeURIComponent(body);\n  const mailtoLink = `mailto:${studentInfo.email || ''}?subject=${subject}&body=${encodedBody}`;\n\n  window.location.href = mailtoLink;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}